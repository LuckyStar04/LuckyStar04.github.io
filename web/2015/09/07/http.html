<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Luckystar's tiny galaxy</title>
  <meta name="viewport" content="width=device-width">

  <!-- syntax highlighting CSS -->
  <link rel="stylesheet" href="/css/syntax.css">

  <!-- CSS -->
  <link rel="stylesheet" href="/css/reset.css">
  <link rel="stylesheet" href="/css/main.css">
  <link href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">

  <!-- Fonts -->
  <link href='http://fonts.useso.com/css?family=Bitter:400,700,400italic|Open+Sans:400italic,600italic,400,600' rel='stylesheet' type='text/css'>

  <!-- icons -->
  <link rel="Shortcut Icon" href="/images/star.ico">
  <link rel="Bookmark" href="/images/star.ico">
  <link rel="stylesheet" href="/css/styles/atelier-lakeside.dark.css">
  <script src="/js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
  <header style="background-image: url(/images/Galaxy.png);">
  <div class="container post-container">
    <a href="/" class="home_button"></a>
    <div class="inner-container">
      <h1>HTTP 学习笔记</h1>
      <ul class="meta">
        <li>
          <span>
            Published
          </span>
          07 Sep 2015
        </li>
        <li>
          <span>
            Category
          </span>
          web
        </li>
      </ul>      
    </div>
    <ul class="pagination">
      
        <li class="previous">
          <a href="/android/2015/09/04/android.html">
            Previous
          </a>
        </li>
      
      
      <li class="next">
        <a href="/html5/2016/01/03/html.html">
          Next
        </a>
      </li>
      
    </ul>
  </div>
</header>

<article>
  <div class="container">
    <p>《》</p>

<h1>第一章 HTTP概述</h1>

<hr>

<h2>1.1 HTTP——因特网的多媒体信使</h2>

<p><strong>HTTP</strong>(Hyper Text Transfer Proctol)，因特网的多媒体信使。</p>

<h2>1.2 Web客户端和服务器</h2>

<p>HTTP客户端和HTTP服务器共同构成了万维网的基本组件。</p>

<h2>1.3 资源</h2>

<p>Web资源包括静态的文件和动态生成的内容，Web服务器是Web资源的宿主。</p>

<h3>1.3.1 媒体类型</h3>

<p>因特网上有数千种不同的数据类型，HTTP仔细地给每种要通过Web传输的对象都打上了名为<strong>MIME</strong>(Multipurpose Internet Mail Extension)类型的数据格式标签。</p>

<p>常见的MIME类型有数百个，几个例子如下</p>

<ul>
<li>HTML格式的文本文档由<code>text/html</code>标记</li>
<li>普通ASCII文本文档由<code>text/plain</code>标记</li>
<li>JPEG版本的图片为<code>image/jpeg</code>类型</li>
<li>GIF格式的图片为<code>image/gif</code>类型</li>
<li>Apple的QuickTime电影为<code>video/quicktime</code>类型</li>
<li>微软的PowerPoint为<code>application/vnd.ms-powerpoint</code>类型</li>
</ul>

<h3>1.3.2 URI</h3>

<p><strong>URI</strong>(Uniform Resource Identifier)就行因特网上的邮政地址一样，在世界范围内唯一标识并定位信息资源。</p>

<h3>1.3.3 URL</h3>

<p><strong>URL</strong>(Uniform Resource Locationer)是URI的最常见的形式。</p>

<p>URL标准格式包含三个部分：</p>

<ul>
<li><strong>scheme</strong>(方案)，说明了访问资源所使用的协议类型。通常是HTTP协议(http://)</li>
<li><strong>address</strong>(因特网地址)，比如www.baidu.com</li>
<li>其余部分指定了Web服务器上的某个资源，比如/images/logo.gif</li>
</ul>

<h3>1.3.4 URN</h3>

<p><strong>统一资源名</strong>(Unified Resource Name)作为特定内容的唯一名称使用，与目前的资源所在地无关。</p>

<h2>1.4 事务</h2>

<p>一个<strong>HTTP事务</strong>是由一条请求命令和一个响应结果组成，这种通信是通过名为<strong>HTTP报文</strong>(HTTP message)的格式化数据块进行的。</p>

<h3>1.4.1 方法</h3>

<p>HTTP支持几种不同的请求命令，这些命令被称为<strong>HTTP方法</strong>(HTTP method)。</p>

<p>常见的HTTP方法如下</p>

<ul>
<li>GET     从服务器向客户端发送命名资源</li>
<li>PUT     将来自客户端的数据存储到一个命名的服务器资源中去</li>
<li>DELETE  从服务器删除命名资源</li>
<li>POST    将客户端数据发送到一个服务器网关应用程序</li>
<li>HEAD    仅发送命名资源响应的HTTP首部</li>
</ul>

<h3>1.4.2 状态码</h3>

<p>每条HTTP响应报文返回时都会携带一个<strong>状态码</strong>。举例，</p>

<ul>
<li>200   OK，文档正确返回</li>
<li>302   Redirect，到其他地方去获取资源</li>
<li>404   NotFound，找不到资源</li>
</ul>

<p>伴随每个数字状态码，HTTP还会发送一条解释性的<strong>原因短语</strong>文本，例如</p>

<ul>
<li>200 OK</li>
<li>200 Document attached</li>
<li>200 Success</li>
<li>200 All&#39;s cool, dude</li>
</ul>

<h3>1.4.3 Web页面中可以包含多个对象</h3>

<h2>1.5 报文</h2>

<p>HTTP报文都是纯文本，不是二进制代码。所以可以很方便地对其进行读写。</p>

<p>HTTP报文包括以下三个部分</p>

<table>
<tr><td><strong>起始行</strong></td><td>报文的第一行就是起始行，在请求报文中用来说明要做些什么，在响应报文中说明出现了什么情况</td></tr>
<tr><td><strong>首部字段</strong></td><td>起始行后面有零个或多个首部字段，每个字段都包含一个名字和一个值，用冒号分隔。首部以一个空行结束</td></tr>
<tr><td><strong>主体</strong></td><td>空行之后就是可选的报文主体了，其中包含了所有类型的数据，包括二进制的数据。</td></tr>
</table>

<h3>简单报文示例</h3>

<h3>(a)请求报文</h3>
<div class="highlight"><pre><code class="language-http" data-lang="http">GET /tools.html HTTP/1.0
User-agent: Mozilla/4.75 [en] (Win98; U)
Host: www.joes-hardware.com
Accept: text/html, image/gif, image/jpeg
Accept-language: en
</code></pre></div>
<h3>(b)响应报文</h3>
<div class="highlight"><pre><code class="language-http" data-lang="http">HTTP/1.0 200 OK
Date:Sun, 01 Oct 2000 23:25:17 GMT
Server: Apache/1.3.11 BSafe-SSL/1.38 (Unix)
Last-modified: Tue, 04 Jul 2000 09:46:21 GMT
Content-length:403
Content-type: text/html

&lt;HTML&gt;
&lt;HEAD&gt;&lt;TITLE&gt;....
&lt;/HTML&gt;
</code></pre></div>
<h2>1.6 连接</h2>

<h3>1.6.1 TCP/IP</h3>

<p>TCP提供了</p>

<ul>
<li>无差错的数据传输</li>
<li>按序传输（数据总是会按照发送的顺序到达）</li>
<li>未分段的数据流（可以在任意时刻以任意尺寸将数据发送出去）</li>
</ul>

<h3>1.6.2 Connection、IP及端口号</h3>
<div class="highlight"><pre><code class="language-http" data-lang="http">http://www.joes-hardware.com:80/tools.html
</code></pre></div>
<p>DNS负责将域名转换为IP，端口号未填写则默认为80。</p>

<h3>1.6.3 使用Telnet实例</h3>

<h2>1.7 协议版本</h2>

<ul>
<li><strong>HTTP/0.9</strong>
HTTP的1991原型版本称为HTTP/0.9，协议有很多严重的设计缺陷，只支持GET方法，不支持MIME、各种多媒体HTTP首部，或者版本号。</li>
<li><strong>HTTP/1.0</strong>
添加了版本号、各种HTTP首部、一些额外的方法，以及多媒体对象的处理。</li>
<li><strong>HTTP/1.0+</strong>
很多非官方的事实标准，包括持久的keep-alive连接、虚拟主机支持、代理连接支持都被加入到HTTP之中。</li>
<li><strong>HTTP/1.1</strong>
是当前正在使用的HTTP版本，校正HTTP设计中的结构性缺陷，明确语义，引入重要的性能优化措施，并删除一些不好的特性。</li>
<li><strong>HTTP-NG</strong>(又名HTTP/2.0)
性能大幅优化，以及更强大的服务逻辑远程执行框架。HTTP-NG的研究工作终止于1998年。</li>
</ul>

<h2>1.8 Web的结构组件</h2>

<ul>
<li><p><strong>代理</strong>
位于客户端和服务器之间的HTTP中间实体。</p></li>
<li><p><strong>缓存</strong>
HTTP仓库，使常用页面的副本可以保存在离客户端更近的地方。</p></li>
<li><p><strong>网关</strong>
连接其他应用程序的特殊Web服务器。</p></li>
<li><p><strong>隧道</strong>
对HTTP通信报文进行盲转发的特殊代理。</p></li>
<li><p><strong>Agent代理</strong>
发起自动HTTP请求的半智能客户端。</p></li>
</ul>

<h1>第二章 URL与资源</h1>

<hr>

<p>URL是URI的子集。URI由两个主要的子集URL和URN构成。</p>

<h3>URL的语法</h3>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;scheme&gt;://&lt;user&gt;:&lt;password&gt;@&lt;host&gt;:&lt;port&gt;/&lt;path&gt;;&lt;params&gt;?&lt;query&gt;#&lt;frag&gt;
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text"></code></pre></div>
  </div>
</article>

</body>
</html>
